#Инструкция по «Александрии».

##1. Выбор хостинга
Изначально я работал на __https://sprinthost.ru/__, но после сообщения про ограчничение по запросам мне пришлось искать другой хостинг.

Мой выбор пал на __https://beget.com/__, так как он давал бесплатный VPS на 30 дней, чего вполне хватало для тестирования. Да, там тоже есть ограничение по запросам, но оно не такое маленькое.

##2. Настройка хостинга и бота в телеграм
Для начала создайте бота у __@BotFather__, запустите и получите его токен.

Далее узнайте свой ID в телеграмме у __@myidbot__.

__(ДАЛЕЕ ВОЗМОЖЕН МЕГАКРИНЖ ДЛЯ PHP РАЗРАБОТЧКОВ)__

Откройте файл __config.php__ из папки __Server__ в своей среде разработки (Visual Studio Code как пример) и расставьте все нужные значения:

* __$GLOBALS['TgBotToken']__ - Токен вашего бота.
* __$TgChatId__ - Ваш ID телеграмма.

__$FileNameToUpdate__ пока что оставляем пустым. Это название файла для автообновления. 

Переносим его и все остальные файлы на сервер.

В качестве БД будут папки, так как на __https://beget.com/__ есть ограничение по запросам на MySql. 

Создаём папки на сервере:
* __database__ - Тут будут храниться ID всех компьютеров которые запустили билд.
* __update__ - Тут будет храниться билд актуальной версии.

Создаём файлы (без расширения) на сервере: 
* __offline__ - Записываем в него значение __false__.
  * Значение __false__ - Билд прослушивает спокойно.
  * Значение __true__ - Билд при прослушивании закрывается и удаляется.
* __ver__ - Версия билда. На данный момент 2.0. Записываем.


##3. Настройка билда.
Открываем __alexandria.sln__ в вашей среде разработке (Visual Studuo 2022 как пример) и заполняем переменные начиная с 18 строки:
* __ServerUrl__ - Адрес сервера.
* __Version__ - Версия билда. (Должна совпадать со значением из файла сервера ver, то есть 2.0)
* __FileNameOnServer__ - Название файла для автообновления. (не трогаем)
* __Debug__ - Дебаг. Можете поставить __false__.
  * При __true__ - Если возникла какая-то ошибка, то будет создан файл __log.txt__ в папке, где работает ботнет.
  * При __false__ - Все ошибки игнорируются.

Остальное на ваше усмотрение.

##Заключение
После всех выше перечисленных манипуляций компилируем проект под __Release__. 

Далее либо пишем созданному боту __/update 2.0__, прикрепляем скомпилированный __exe__ файл и отправляем боту, либо заносим __exe__ файл в папку __update__ на сервере (не забываем про идентичность версий).

Готово. Запускаем этот __exe__ файл у себя на компьютере и наслаждаемся удаленным доступом через созданного бота. 

Если ботнет запустился успешно, бот сообщит вам об этом, указав идентификатор вашего компьютера.

##Команды бота и билда
__Идентификатор__ - уникальный номер компьютера который был записан в БД после запуска __exe__ файла.

####Команды для бота:
+ __/command__ [идентификатор] [объект*значение] - Отправить команду на удалённый компьютер.
  * Пример: __/command UIDWDNWINFID cmd*/C calc.exe__
  * Ниже представлены все команды для билда.
* __/offline__ [true|false] - Отключение билда.
+ __/setcomment__ [идентификатор] [комментарий] - Создать комментарий для пользователя. (чтобы их различать)
  * Пример: __/setcomment UIDWDNWINFID Тестовый ПК__
* __/remove__ [идентификатор] - Удаление пользователя из базы. 
  * Пример: __/remove UIDWDNWINFID__
+ __/update__ [версия] (прикреплённый файл) - Обновление билда.
  * Пример: __/update 2.1 (прикреплённый файл)__
* __/getdatabase__ - Получить всех пользователей, запустивших билд.
* __/getbuild__ - Получить актуальную версию билда.

###Команды для билда
* __cmd__ - Командная строка Windows.
  * В значение берётся консольная команда. 
  * Пример: __/C calc.exe__
* __screenshot__ - Скриншот экрана.
  * В значение берётся любой символ. Технически не обязан, но требуется.
* __message__ - Системное сообщение.
  * В значение берётся название окна и его сообщение. (название и сообщение отделяются знаком __|__)
  * Пример: __Система|Что ты делаешь?__ 

___
На этом всё. По всем вопросам обращаться в телеграм @loveappless.